!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){!function(b,c){"use strict";"undefined"!=typeof c&&(c.fn.imagecropper=a("./lib/jQuery.js")),b.Imagecropper=a("./lib/main.js")}(window,jQuery)},{"./lib/jQuery.js":6,"./lib/main.js":7}],2:[function(a,b){b.exports=function(){var a={};return this.is=function(a){return!!this.get(a)},this.get=function(b){return a[b]},this.set=function(b,c){a[b]=c;var d=b.split("_").map(function(a){return a.substr(0,1).toUpperCase()+a.toLowerCase().substr(1)}),e="get"+d.join("");return"undefined"==typeof this[e]&&(this[e]=function(){return this.get(b)}),e="set"+d.join(""),"undefined"==typeof this[e]&&(this[e]=function(a){return this.set(b,a)}),e="is"+d.join(""),"undefined"==typeof this[e]&&(this[e]=function(){return this.is(b)}),this},this.init?this.init.apply(this,arguments):this},b.exports.extend=a("./extend.js")},{"./extend.js":5}],3:[function(a,b){b.exports=function(b,c){"use strict";var d=a("./CropImage.js");return a("./Class.js").extend({init:function(a,b,e){return a instanceof c||(a=c(a)),console.log(a),this.set("size",{width:b,height:e}).set("element",a).set("image",new d(a.children("img"))).set("drag_start",{x:0,y:0}).set("drag_offset_start",{x:0,y:0}).set("dragging",!1),this.initializeDOM().initializeEvents().render()},initializeDOM:function(){return this.getElement().css({overflow:"hidden",position:"relative",width:this.getSize().width,height:this.getSize().height,border:"solid 1px #ccc",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVQ4T2P88OHDfwY8gJ+fH580A+OoAcMiDP4DAb6I/vjxI/50MGoAA+PQDwMAyeVWaRyHJs4AAAAASUVORK5CYII=)"}),this},normalizeEvent:function(a){return"undefined"!=typeof a.touches?(a._offsetX=a.touches[0].pageX,a._offsetY=a.touches[0].pageY):"undefined"==typeof a.pageX?(a._offsetX=a.clientX+window.document.body.scrollLeft+window.document.documentElement.scrollLeft,a._offsetY=a.clientY+window.document.body.scrollTop+window.document.documentElement.scrollTop):(a._offsetX=a.pageX,a._offsetY=a.pageY),a},fixImagePosition:function(){var a=10,b=this.getImage().getOffset();return b.x=Math.max(b.x,-this.getImage().getSize().width+a),b.x=Math.min(b.x,this.getSize().width-a),b.y=Math.max(b.y,-this.getImage().getSize().height+a),b.y=Math.min(b.y,this.getSize().height-a),this},sizeImageUp:function(){return this.getImage().sizeUp.apply(this.getImage(),Array.prototype.slice.call(arguments)),this.fixImagePosition()},sizeImageDown:function(){return this.getImage().sizeDown.apply(this.getImage(),Array.prototype.slice.call(arguments)),this.fixImagePosition()},initializeEvents:function(){var a=this;return c(b.document).on("mousemove touchmove",function(b){if(a.isDragging()){var c=a.normalizeEvent(b.originalEvent);!function(a,b){var c=a.getImage().getOffset(),d=a.getDragOffsetStart(),e=a.getDragStart();c.x=d.x-(e.x-b._offsetX),c.y=d.y-(e.y-b._offsetY),a.fixImagePosition().render()}(a,c)}return b.preventDefault(),!1}).on("mouseup touchend touchcancel touchleave",function(b){return a.isDragging()&&a.setDragging(!1),b.preventDefault(),!1}),this.getElement().on("mousedown touchstart",function(b){var c=a.normalizeEvent(b.originalEvent);return function(a,b){var c=a.getImage();a.setDragOffsetStart({x:c.getOffset().x,y:c.getOffset().y}).setDragStart({x:b._offsetX,y:b._offsetY}).setDragging(!0)}(a,c),b.preventDefault(),!1}),this},render:function(){return this.getElement().css({width:this.getSize().width,height:this.getSize().height}),this.getImage().render(),this},exportSettings:function(){return{image:this.getImage().exportSettings(),width:this.getSize().width,height:this.getSize().height}}})}(window,jQuery)},{"./Class.js":2,"./CropImage.js":4}],4:[function(a,b){b.exports=function(){"use strict";return a("./Class.js").extend({init:function(a){this.set("element",a),this.set("size",{width:1,height:1}),this.set("offset",{x:0,y:0}),console.log("binding");var b=new Image,c=this;return b.onload=function(){c.getSize().width=this.width,c.getSize().height=this.height,c.render()},b.src=a.attr("src"),this.initialize()},initialize:function(){return this.getElement().stop().css({position:"absolute",top:0,left:0,width:1,height:1}),this.render()},sizeUp:function(a,b){var c=this.getSize().width,d=this.getSize().height;return this.getSize().width=Math.max(1,c+(b||1)*(a||.1*c)),this.getSize().height=this.getSize().width/c*d,this.getOffset().x-=(this.getSize().width-c)/2,this.getOffset().y-=(this.getSize().height-d)/2,this.render()},sizeDown:function(a){return this.sizeUp.call(this,a,-1)},render:function(){return this.getElement().stop().css(this.exportSettings()),this},exportSettings:function(){return{width:Math.round(this.getSize().width),height:Math.round(this.getSize().height),top:Math.round(this.getOffset().y),left:Math.round(this.getOffset().x)}}})}(window,jQuery)},{"./Class.js":2}],5:[function(a,b){b.exports=function(a,b){function c(a){if(a===Object(a))return[];if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function d(a,b,d){if(null===a)return a;if(a.length===+a.length)for(var e=0,f=a.length;f>e;e++)b.call(d,a[e],e,a);else for(var g=c(a),h=0,i=g.length;i>h;h++)b.call(d,a[g[h]],g[h],a);return a}function e(a){return d(Array.prototype.slice.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a}var f,g=this;f=a&&Object.prototype.hasOwnProperty.call(a,"constructor")?a.constructor:function(){return g.apply(this,arguments)},e(f,g,b);var h=function(){this.constructor=f};return h.prototype=g.prototype,f.prototype=new h,a&&e(f.prototype,a),f.__super__=g.prototype,f}},{}],6:[function(a,b){b.exports=function(){var b=a("./main.js");return function(a){var c,d=$(this);if(d.data("imagecropper")){if(c=this.data("imagecropper"),"function"==typeof c[a])return c[a].apply(c,Array.prototype.slice.call(arguments,1))}else c=new b(this,a.width,a.height),this.data("imagecropper",c),$.fn.each.call(a,function(a,b){c.set(a,b)}),c.render();return this}}()},{"./main.js":7}],7:[function(a,b){b.exports=function(b,c,d){var e=a("./CropArea.js");return new e(b,c,d)}},{"./CropArea.js":3}]},{},[1]);
//# sourceMappingURL=imgcropper.map